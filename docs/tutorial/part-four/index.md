---
title: Gatsbyã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿
typora-copy-images-to: ./
disableTableOfContents: true
---

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®ç¬¬ 4 ç« ã¸ã‚ˆã†ã“ãï¼ã¾ã é“åŠã°ã§ã™ï¼Gatsby ã‚’å¿«é©ã«æ„Ÿã˜å§‹ã‚ã‚‰ã‚Œã‚‹ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚

## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å‰åŠã®ã¾ã¨ã‚

ã“ã“ã¾ã§ã€React ã®ä½¿ã„æ–¹ã¨ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹éƒ¨å“ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ _ç‹¬è‡ªã®_ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã§ãã‚‹å¼·åŠ›ã•ã«ã¤ã„ã¦å­¦ã‚“ã§ãã¾ã—ãŸã€‚

ã¾ãŸã€CSS Modules ã«ã‚ˆã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ä»˜ã‘ã«ã¤ã„ã¦ã‚‚èª¿æŸ»ã—ã¾ã—ãŸã€‚

## ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ä½•ã‚’ã™ã‚‹ã®ï¼Ÿ

ã“ã®ç« ã‚’å«ã‚ãŸæ¬¡ã® 4 ã¤ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã€WordPressã€ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ CMSã€ãã®ä»–ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ç°¡å˜ã«ã‚µã‚¤ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã™ã‚‹ã¨ã„ã† Gatsby ã®å¼·åŠ›ãªç‰¹å¾´ã§ã‚ã‚‹ã€ãƒ‡ãƒ¼ã‚¿å±¤ã«ã¤ã„ã¦å­¦ã‚“ã§ã„ãã¾ã™ã€‚

**ãƒ’ãƒ³ãƒˆ**: Gatsby ã®ãƒ‡ãƒ¼ã‚¿å±¤ã«ã¯ GraphQL ãŒç”¨ã„ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚GraphQL ã«ã¤ã„ã¦æ·±ãå­¦ã³ãŸã„å ´åˆã¯ [How to GraphQL](https://www.howtographql.com/) ã‚’ãŠã™ã™ã‚ã—ã¾ã™ã€‚

## Gatsby ã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿

ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¯ HTMLã€CSSã€JavaScriptã€ãã—ã¦ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®å‰åŠã§ã¯ãã‚Œã‚‰ã®æœ€åˆã® 3 ã¤ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ Gatsby ã®ã‚µã‚¤ãƒˆã§ã©ã®ã‚ˆã†ã«ä½¿ã†ã‹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚

**ãƒ‡ãƒ¼ã‚¿ã¨ã¯ï¼Ÿ**

ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹çš„ãªç­”ãˆã¯ã“ã†ã§ã—ã‚‡ã†ã€‚ã€Œãƒ‡ãƒ¼ã‚¿ã¨ã¯`"æ–‡å­—åˆ—"`ã€
æ•´æ•°å€¤ (`42`)ã€ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ (`{ pizza: true }`) ãªã©ã®ã“ã¨ã€ã€‚

ã—ã‹ã— Gatsby ã§ä½¿ã‚ã‚Œã‚‹ã¨ã„ã†ç›®çš„ã«ãŠã„ã¦ã€ã‚ˆã‚Šé©åˆ‡ãªç­”ãˆã¯ã€ŒReact ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤–ã«ã‚ã‚‹å…¨ã¦ã®ã‚‚ã®ã€ã¨ãªã‚Šã¾ã™ã€‚

ã“ã“ã¾ã§ã€ã‚ãªãŸã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä¸­ã«*ç›´æ¥*ãƒ†ã‚­ã‚¹ãƒˆã‚’æ›¸ã„ãŸã‚Šã€ç”»åƒã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ãã¾ã—ãŸã€‚ãŸãã•ã‚“ã® Web ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ç´ æ™´ã‚‰ã—ã„æ–¹æ³•ã§ã™ã€‚
ã—ã‹ã—ã€å¤šãã®å ´åˆã¯ã€ãã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®_å¤–å´_ã«ç½®ã„ã¦å¿…è¦ã«å¿œã˜ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®_å†…å´_ã«æŒã£ã¦ãã‚‹ã“ã¨ãŒæœ›ã¾ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚

ã‚‚ã—ã‚ãªãŸã® Web ã‚µã‚¤ãƒˆãŒè¤‡æ•°äººã§ç·¨é›†ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã™ã‚‹ãŸã‚ã« WordPress ã¨ Gatsby ã«ã‚ˆã£ã¦æ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒšãƒ¼ã‚¸ã‚„æŠ•ç¨¿ãªã©ã®ã‚µã‚¤ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’ WordPress ä¸Šã‹ã‚‰_å–ã‚Šè¾¼ã‚“_ã§ã€ãã‚Œã‚‰ã‚’å¿…è¦ã«å¿œã˜ã¦ Gatsby ä¸Šã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™ã‚ˆã†ãªé‹ç”¨ãŒè¡Œãˆã¾ã™ã€‚

ãƒ‡ãƒ¼ã‚¿ã¯ Markdown ã‚„ CSV ãªã©ã®å½¢å¼ã¯ã‚‚ã¡ã‚ã‚“ã€ã‚ã‚‰ã‚†ã‚‹ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚„ API ãŒä½¿ç”¨å¯èƒ½ã§ã™ã€‚

**Gatsby ã®ãƒ‡ãƒ¼ã‚¿å±¤ã¯ã“ã‚Œã‚‰ã®ï¼ˆãã—ã¦ãã‚Œä»¥å¤–ã®ï¼‰ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ç›´æ¥ã€** ã‚ãªãŸã®æ¬²ã—ã„å½¢ã‚„å½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

## éæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ GraphQL ã‚’ä½¿ç”¨ã™ã‚‹

### Gatsby ã®ã‚µã‚¤ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚ã« GraphQL ã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã”ã¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã™ã‹ï¼Ÿ

ãã‚“ãªã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ï¼GraphQL ãƒ‡ãƒ¼ã‚¿å±¤ã‚’ä½¿ã‚ãšã«ã€ `createPages` API ã‚’ä½¿ç”¨ã—ã¦éæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’ Gatsby ã®ã‚µã‚¤ãƒˆã«ç›´æ¥å–ã‚Šè¾¼ã‚€ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ã“ã‚Œã¯å°è¦æ¨¡ãªã‚µã‚¤ãƒˆã«é©ã—ãŸé¸æŠã§ã‚ã‚‹ã¨åŒæ™‚ã«ã€ã•ã‚‰ã«è¤‡é›‘ãªã‚µã‚¤ãƒˆã«ãŠã„ã¦æ™‚é–“ã‚’ç¯€ç´„ã™ã‚‹ãŸã‚ã« GraphQL ã¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã”ã¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

[Using Gatsby without GraphQL](/docs/using-gatsby-without-graphql/) ã§`createPages` API ã‚’ä½¿ç”¨ã—ã¦ Gatsby ã® Web ã‚µã‚¤ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€æ–¹æ³•ã‚’å­¦ã‚“ã ã‚Šã€ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’è¦‹ãŸã‚Šã§ãã¾ã™ã€‚

### éæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã¨ GraphQL ã‚’ã„ã¤ä½¿ç”¨ã™ã‚‹ã‹ï¼Ÿ

å°è¦æ¨¡ãª Web ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã€ã“ã®ã‚¬ã‚¤ãƒ‰ã«ã‚ã‚‹ã‚ˆã†ãªéæ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€åŠ¹ç‡çš„ãªã‚„ã‚Šæ–¹ã®ã²ã¨ã¤ã¯ã€`createPages` API ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ã®ã¡ã«ã‚µã‚¤ãƒˆãŒã•ã‚‰ã«è¤‡é›‘ã«ãªã£ãŸå ´åˆã€ã‚ˆã‚Šè¤‡é›‘ãªã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã€ã‚‚ã—ãã¯ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›ã—ãŸã„å ´åˆã«ã¯ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã—ã¾ã—ã‚‡ã†ã€‚

1.  [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª](/plugins/)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ä½¿ã„ãŸã„ã‚½ãƒ¼ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚„ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã™ã§ã«å­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
2.  å­˜åœ¨ã—ãªã‹ã£ãŸå ´åˆã€[ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆ](/docs/creating-plugins/) ã‚¬ã‚¤ãƒ‰ã‚’èª­ã‚“ã§ç‹¬è‡ªã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆã‚’æ¤œè¨ã—ã¾ã™ã€‚

### GraphQL ã‚’ç”¨ã„ãŸ Gatsby ã®ãƒ‡ãƒ¼ã‚¿å±¤ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€æ–¹æ³•

React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€æ–¹æ³•ã«ã¯ã•ã¾ã–ã¾ãªé¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚ãã®ã†ã¡ã®ã‚‚ã£ã¨ã‚‚äººæ°—ã§ãƒ‘ãƒ¯ãƒ•ãƒ«ãªæŠ€è¡“ã®ã²ã¨ã¤ã«[GraphQL](http://graphql.org/)ãŒã‚ã‚Šã¾ã™ã€‚

GraphQL ã¯ã€å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãŒã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å–ã‚Šè¾¼ã‚€ã®ã‚’åŠ©ã‘ã‚‹ãŸã‚ã« Facebook ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã¾ã—ãŸã€‚

GraphQL ã¯ **q**uery **l**anguage ã§ã™ï¼ˆåå‰ã® _QL_ ã®éƒ¨åˆ†ï¼‰ã€‚ã‚‚ã— SQL ã«æ…£ã‚Œã¦ã„ã‚Œã°ã€ã¨ã¦ã‚‚ä¼¼ãŸã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚å°‚ç”¨ã®æ§‹æ–‡ã‚’ä½¿ç”¨ã—ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã©ã‚“ãªãƒ‡ãƒ¼ã‚¿æ¬²ã—ã„ã‹è¨˜è¿°ã™ã‚Œã°ãã®é€šã‚Šã«ãƒ‡ãƒ¼ã‚¿ãŒæä¾›ã•ã‚Œã¾ã™ã€‚

Gatsby ã¯ GraphQL ã‚’ä½¿ã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã‚’å®£è¨€ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

## æ–°ã—ã„ãƒ‡ãƒ¢ã‚µã‚¤ãƒˆã‚’ä½œã‚‹

ã“ã®ç« ã§ã¯ã‚‚ã†ã²ã¨ã¤æ–°ã—ã„ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã€ŒPandas Eating Lotsã€ã¨ã„ã†ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ãƒ–ãƒ­ã‚°ã§ã™ã€‚ãƒ‘ãƒ³ãƒ€ãŒé£Ÿã¹ç‰©ã‚’ãŸãã•ã‚“é£Ÿã¹ã¦ã„ã‚‹æœ€é«˜ã®å†™çœŸã¨ãƒ“ãƒ‡ã‚ªã‚’æŠ«éœ²ã™ã‚‹ã“ã¨ã«å°‚å¿µã—ã¾ã™ã€‚é€”ä¸­ã§ã€Gatsby ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚µãƒãƒ¼ãƒˆã¨ GraphQL ã«è¶³ã‚’è¸ã¿å…¥ã‚Œã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã„ã¦ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€`tutorial-part-four` ã¨ã„ã†åå‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã« Gatsby ã®æ–°è¦ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
æ–°ã—ã„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ãŸã‚‰ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

```shell
gatsby new tutorial-part-four https://github.com/gatsbyjs/gatsby-starter-hello-world
cd tutorial-part-four
```

æ¬¡ã«å¿…è¦ãªä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ãƒ¼ãƒ†ãƒ¼ãƒã®"Kirkham"ã‚’ä½¿ç”¨ã—ã€["Emotion"](https://emotion.sh/)ã¨ã„ã† CSS-in-JS ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è©¦ã—ã¾ã™ã€‚

```shell
npm install --save gatsby-plugin-typography typography react-typography typography-theme-kirkham gatsby-plugin-emotion @emotion/core
```

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã®[3 ç« ](/tutorial/part-three)ã§çµ‚ãˆãŸã‚‚ã®ã¨åŒæ§˜ã®ã‚µã‚¤ãƒˆã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ã“ã®ã‚µã‚¤ãƒˆã«ã¯ 1 ã¤ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ 2 ã¤ã®ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚

```jsx:title=src/components/layout.js
import React from "react"
import { css } from "@emotion/core"
import { Link } from "gatsby"

import { rhythm } from "../utils/typography"

export default ({ children }) => (
  <div
    css={css`
      margin: 0 auto;
      max-width: 700px;
      padding: ${rhythm(2)};
      padding-top: ${rhythm(1.5)};
    `}
  >
    <Link to={`/`}>
      <h3
        css={css`
          margin-bottom: ${rhythm(2)};
          display: inline-block;
          font-style: normal;
        `}
      >
        Pandas Eating Lots
      </h3>
    </Link>
    <Link
      to={`/about/`}
      css={css`
        float: right;
      `}
    >
      About
    </Link>
    {children}
  </div>
)
```

```jsx:title=src/pages/index.js
import React from "react"
import Layout from "../components/layout"

export default () => (
  <Layout>
    <h1>Amazing Pandas Eating Things</h1>
    <div>
      <img
        src="https://2.bp.blogspot.com/-BMP2l6Hwvp4/TiAxeGx4CTI/AAAAAAAAD_M/XlC_mY3SoEw/s1600/panda-group-eating-bamboo.jpg"
        alt="Group of pandas eating bamboo"
      />
    </div>
  </Layout>
)
```

```jsx:title=src/pages/about.js
import React from "react"
import Layout from "../components/layout"

export default () => (
  <Layout>
    <h1>About Pandas Eating Lots</h1>
    <p>
      We're the only site running on your computer dedicated to showing the best
      photos and videos of pandas eating lots of food.
    </p>
  </Layout>
)
```

```javascript:title=src/utils/typography.js
import Typography from "typography"
import kirkhamTheme from "typography-theme-kirkham"

const typography = new Typography(kirkhamTheme)

export default typography
export const rhythm = typography.rhythm
```

`gatsby-config.js`ï¼ˆ`src/` ä»¥ä¸‹ã§ã¯ãªããƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰

```javascript:title=gatsby-config.js
module.exports = {
  plugins: [
    `gatsby-plugin-emotion`,
    {
      resolve: `gatsby-plugin-typography`,
      options: {
        pathToConfigModule: `src/utils/typography`,
      },
    },
  ],
}
```

ä¸Šè¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€ ã„ã¤ã‚‚é€šã‚Š`gatsby develop` ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚

![start](start.png)

ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨ 2 ã¤ã®ãƒšãƒ¼ã‚¸ã‚’ã‚‚ã¤ã‚‚ã†ã²ã¨ã¤ã®ã‚µã‚¤ãƒˆãŒã‚ã‚Šã¾ã™ã€‚

ã“ã‚Œã§ã‚¯ã‚¨ãƒªã‚’ä½¿ã„å§‹ã‚ã‚‹æº–å‚™ãŒæ•´ã„ã¾ã—ãŸã€‚

## ã¯ã˜ã‚ã¦ã® GraphQL query

ã‚µã‚¤ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹ã¨ãã€ä¾‹ãˆã° _ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«_ ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’å†åˆ©ç”¨ã—ãŸããªã‚‹ã“ã¨ãŒã‚ã‚‹ã§ã—ã‚‡ã†ã€‚ `/about/` ãƒšãƒ¼ã‚¸ã‚’è¦‹ã¦ãã ã•ã„ã€‚ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚µã‚¤ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰ã¨`about.js`ï¼ˆãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰ã® `<h1 />` ã®ä¸¡æ–¹ã«ã‚µã‚¤ãƒˆã‚¿ã‚¤ãƒˆãƒ«ï¼ˆ`Pandas Eating Lots`ï¼‰ãŒã‚ã‚‹ã“ã¨ã«æ°—ä»˜ãã¾ã™ã€‚

ã—ã‹ã—ã€å°†æ¥ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´ã—ãŸããªã£ãŸå ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿå…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ¤œç´¢ã—ã¦ãã‚Œãã‚Œã®ä¸­èº«ã‚’æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«å¤§è¦æ¨¡ã§è¤‡é›‘ãªã‚µã‚¤ãƒˆã§ã‚ã‚Œã°ã€é¢å€’ãªä¸Šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã‚„ã™ããªã‚Šã¾ã™ã€‚ä»£ã‚ã‚Šã«ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’ä¸€ç®‡æ‰€ã«ä¿ç®¡ã—ã¦ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å‚ç…§ã§ãã¾ã™ã€‚ä¸€ç®‡æ‰€ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´ã™ã‚Œã°ã€Gatsby ã¯ãã‚Œã‚’å‚ç…§ã—ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›´æ–°ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã‚’ _å–ã‚Šè¾¼ã¿_ ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã®å ´æ‰€ã¯ã€ `gatsby-config.js` ãƒ•ã‚¡ã‚¤ãƒ«å†…ã® `siteMetadata` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’ `gatsby-config.js` ã«è¿½åŠ ã—ã¾ã™ã€‚

```javascript:title=gatsby-config.js
module.exports = {
  // highlight-start
  siteMetadata: {
    title: `Title from siteMetadata`,
  },
  // highlight-end
  plugins: [
    `gatsby-plugin-emotion`,
    {
      resolve: `gatsby-plugin-typography`,
      options: {
        pathToConfigModule: `src/utils/typography`,
      },
    },
  ],
}
```

é–‹ç™ºç”¨ã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¾ã™ã€‚

### ãƒšãƒ¼ã‚¸ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨ã™ã‚‹

ã‚µã‚¤ãƒˆã®ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚¯ã‚¨ãƒªã§ã®å–å¾—ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚[page query](/docs/page-query) ã‚’ä½¿ç”¨ã—ã¦ãã‚Œã‚’ `about.js` ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ ã—ã¾ã™ã€‚

```jsx:title=src/pages/about.js
import React from "react"
import { graphql } from "gatsby" // highlight-line
import Layout from "../components/layout"

// highlight-next-line
export default ({ data }) => (
  <Layout>
    <h1>About {data.site.siteMetadata.title}</h1> {/* highlight-line */}
    <p>
      We're the only site running on your computer dedicated to showing the best
      photos and videos of pandas eating lots of food.
    </p>
  </Layout>
)

// highlight-start
export const query = graphql`
  query {
    site {
      siteMetadata {
        title
      }
    }
  }
`
// highlight-end
```

ã†ã¾ãã„ãã¾ã—ãŸã€‚

![siteMetadataã‹ã‚‰å–å¾—ã—ãŸãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«](site-metadata-title.png)

ä¸Šè¨˜ã® `about.js` ã®å¤‰æ›´ã§ `title` ã‚’å–å¾—ã™ã‚‹åŸºç¤çš„ãª GraphQL ã‚¯ã‚¨ãƒªã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚

```graphql:title=src/pages/about.js
{
  site {
    siteMetadata {
      title
    }
  }
}
```

> ğŸ’¡[part five](/tutorial/part-five/#introducing-graphiql) ã§ã¯ã€GraphQL ã‚’ä»‹ã—ã¦åˆ©ç”¨å¯èƒ½ãªãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«èª¿æŸ»ã—ã€ä¸Šè¨˜ã®ã‚ˆã†ãªã‚¯ã‚¨ãƒªã‚’ä½œæˆã™ã‚‹ã®ã«å½¹ç«‹ã¤ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

ãƒšãƒ¼ã‚¸ã‚¯ã‚¨ãƒªã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã®å¤–å´ã«å­˜åœ¨ã—ï¼ˆãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€å¾Œã«è¨˜è¿°ã™ã‚‹æ…£ç¿’ãŒã‚ã‚Šã¾ã™ï¼‰ã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ã¿ä½¿ç”¨å¯èƒ½ã§ã™ã€‚

### StaticQuery ã‚’ä½¿ç”¨ã™ã‚‹

StaticQuery ã¯ Gatsby v2 ã§å°å…¥ã•ã‚ŒãŸæ–°ã—ã„ API ã§ã€ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»¥å¤–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`layout.js`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã©ï¼‰ãŒ GraphQL ã‚¯ã‚¨ãƒªã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
æ–°ã—ãå°å…¥ã•ã‚ŒãŸ hook ç‰ˆï¼ˆ[`useStaticQuery`](/docs/use-static-query/)ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã—ã‚‡ã†ã€‚

å…ˆã«é€²ã¿ã¾ã—ã‚‡ã†ã€‚`useStaticQuery` hook ã‚’ä½¿ç”¨ã—ã€ `{data.site.siteMetadata.title}` ãŒä½¿ç”¨ã™ã‚‹ãã‚Œã‚‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ã™ã‚‹ãŸã‚ã« `src/components/layout.js` ã¸ã„ãã‚‰ã‹ã®ä¿®æ­£ã‚’åŠ ãˆã¾ã—ã‚‡ã†ã€‚å®Œäº†ã—ãŸã‚‰ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```jsx:title=src/components/layout.js
import React from "react"
import { css } from "@emotion/core"
// highlight-next-line
import { useStaticQuery, Link, graphql } from "gatsby"

import { rhythm } from "../utils/typography"
// highlight-start
export default ({ children }) => {
  const data = useStaticQuery(
    graphql`
      query {
        site {
          siteMetadata {
            title
          }
        }
      }
    `
  )
  return (
    // highlight-end
    <div
      css={css`
        margin: 0 auto;
        max-width: 700px;
        padding: ${rhythm(2)};
        padding-top: ${rhythm(1.5)};
      `}
    >
      <Link to={`/`}>
        <h3
          css={css`
            margin-bottom: ${rhythm(2)};
            display: inline-block;
            font-style: normal;
          `}
        >
          {data.site.siteMetadata.title} {/* highlight-line */}
        </h3>
      </Link>
      <Link
        to={`/about/`}
        css={css`
          float: right;
        `}
      >
        About
      </Link>
      {children}
    </div>
    // highlight-start
  )
}
// highlight-end
```

ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ã€‚

![siteMetadataã‹ã‚‰å–å¾—ã—ãŸãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚¿ã‚¤ãƒˆãƒ«](site-metadata-two-titles.png)

ãµãŸã¤ã®ç•°ãªã‚‹ã‚¯ã‚¨ãƒªã‚’ä½¿ç”¨ã—ãŸã®ã¯ãªãœã§ã—ã‚‡ã†ã‹ï¼Ÿã“ã‚Œã‚‰ã®ä¾‹ã¯ã€ã‚¯ã‚¨ãƒªã®ç¨®é¡ã€å½¢å¼ã€ãŠã‚ˆã³ä½¿ç”¨ã§ãã‚‹å ´æ‰€ã‚’ç°¡å˜ã«ç´¹ä»‹ã—ãŸã‚‚ã®ã§ã™ã€‚ä»Šã®ã¨ã“ã‚ã€ãƒšãƒ¼ã‚¸ã®ã¿ãŒãƒšãƒ¼ã‚¸ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã§ãã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ã‚ˆã†ãªãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»¥å¤–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€StaticQuery ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã® 7 ç« ã§ã¯ã€ã“ã‚Œã‚‰ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã—ã¦ã„ã¾ã™ã€‚

ã§ã¯ã€æœ¬æ¥ã®ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã—ã¾ã—ã‚‡ã†ã€‚

Gatsby ã®åŸºæœ¬åŸå‰‡ã®ã²ã¨ã¤ã«ã€_ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã¯è‡ªåˆ†ãŒä½œã£ãŸã‚‚ã®ã¨ã™ãã«ç¹‹ãŒã‚‹å¿…è¦ãŒã‚ã‚‹_ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ ([hat tip to Bret Victor](http://blog.ezyang.com/2012/02/transcript-of-inventing-on-principle/))ã€‚ã¤ã¾ã‚Šã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚Œã°ãã®å¤‰æ›´ã®åŠ¹æœãŒã™ãã«ã‚ã‹ã‚‹ã¯ãšã§ã™ã€‚ Gatsby ã®å…¥åŠ›ã‚’æ“ä½œã™ã‚Œã°ã€ç”»é¢ã«æ–°ã—ã„å‡ºåŠ›ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

ãã®ãŸã‚ã€åŠ ãˆãŸå¤‰æ›´ãŒã»ã¨ã‚“ã©ã™ã¹ã¦ã®å ´æ‰€ã§ã™ãã«æœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚ `gatsby-config.js` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†åº¦ç·¨é›†ã—ã€ä»Šå›ã¯ `title` ã‚’ã€ŒPandas Eating Lotsã€ã«æˆ»ã—ã¾ã™ã€‚å¤‰æ›´ã¯ã‚µã‚¤ãƒˆã®ãƒšãƒ¼ã‚¸ã«ã™ãã«è¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚

![ã©ã¡ã‚‰ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚‚ã€ŒPandas Eating Lotsã€](pandas-eating-lots-titles.png)

## æ¬¡ã¯ä½•ã‚’ï¼Ÿ

ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã® [5 ç« ](/tutorial/part-five/)ã§ã¯ã€ã‚½ãƒ¼ã‚¹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã—ãŸ GraphQL ã‚’ä½¿ç”¨ã—ã¦ Gatsby ã‚µã‚¤ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã‚Šè¾¼ã‚€æ–¹æ³•ã«ã¤ã„ã¦å­¦ç¿’ã—ã¾ã™ã€‚
